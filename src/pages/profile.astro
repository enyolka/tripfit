---
import Layout from "@/layouts/Layout.astro";
import ProfilePage from "@/components/profile/ProfilePage";
import type { User } from "@supabase/supabase-js";

// Wyłączenie prerenderingu ponieważ strona wymaga danych użytkownika
export const prerender = false;

// Przekierowanie na stronę logowania jeśli użytkownik nie jest zalogowany
const user = Astro.locals.user as User | null;
if (!user) {
    return Astro.redirect("/login");
}
---

<Layout title="Profil użytkownika">
    <main class="container mx-auto px-4 py-8">
       <ProfilePage client:load />
    </main>
</Layout>
